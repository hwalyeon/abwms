<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="svcStnd.fat.fatStndMng">

    <!--성장기준 리스트 조회-->
	<select id="searchFatStndList" parameterType="java.util.Map" resultType="MybatisMap">
		SELECT      FAT_STND_VER
	                    , FAT_STND_NO
		                , SEX_CD
		                , AGE_YCNT
		                , AGE_MCNT
                        , P5_FIDX
                        , P50_FIDX
                        , P95_FIDX
                        , REG_DT
                        , REG_TM
                        , REG_USER_ID
                        , UPT_DT
                        , UPT_TM
                        , UPT_USER_ID
                        , fn_getCdNm('SEX_CD', SEX_CD)
		FROM        TI_FAT_STND
		WHERE     1 = 1
		<if test=" fatStndVer != null and fatStndVer != '' ">
		AND          FAT_STND_VER = #{fatStndVer}</if>
		<if test=" ageYcnt != null and ageYcnt != '' ">
		AND           AGE_YCNT = CAST (#{ageYcnt} AS INTEGER)</if>
		<if test=" sexCd != null and sexCd != '' ">
		AND          SEX_CD = #{sexCd}</if>
		ORDER BY FAT_STND_VER, FAT_STND_NO, SEX_CD
		<if test=' paging == "Y" '>
			LIMIT ${rowCount} OFFSET ${currentIndex} </if>
	</select>

    <!--비만기준버전 리스트 조회-->
	<select id="searchFatStndVerList" parameterType="java.util.Map" resultType="MybatisMap">
		SELECT      DISTINCT FAT_STND_VER FROM TI_FAT_STND
        ORDER BY FAT_STND_VER
	</select>

	<!--나이년도 리스트 조회-->
	<select id="searchAgeYcntList" parameterType="java.util.Map" resultType="MybatisMap">
		SELECT      DISTINCT AGE_YCNT FROM TI_FAT_STND
        ORDER BY AGE_YCNT

	</select>

</mapper>