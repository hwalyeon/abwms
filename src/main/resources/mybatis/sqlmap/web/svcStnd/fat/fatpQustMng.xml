<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="svcStnd.fat.fatpQustMng">

    <!--비만예측_설문_기본_리스트 조회-->
    <select id="selectTcFatpQustStatBase" parameterType="java.util.Map" resultType="MybatisMap">
            SELECT   qust_ver            /* qust_ver    설문_버전      numeric                */
                   , qust_no             /* qust_no     질문_번호      numeric                */
                   , qust_cntn           /* qust_cntn   설문_내용      character varying(200) */
                   , reg_dt              /* reg_dt      등록_일자      character(8)           */
                   , reg_tm              /* reg_tm      등록_시각      character(6)           */
                   , reg_user_id         /* reg_user_id 등록_사용자_ID character varying(20)  */
                   , upt_dt              /* upt_dt      수정_일자      character(8)           */
                   , upt_tm              /* upt_tm      수정_시각      character(6)           */
                   , upt_user_id         /* upt_user_id 수정_사용자_ID character varying(20)  */
            FROM     ti_fatp_qust_base    --비만예측_설문_기본
            WHERE    1 = 1
                     <if test=" qustVer!= null and qustVer != '' ">
            AND      qust_ver = #{qustVer}::NUMERIC /* qust_ver 설문_버전 numeric */	  </if>
                     <if test=" qustNo != null and qustNo != '' ">
            AND      qust_no  = #{qustNo} ::NUMERIC /* qust_no 질문_번호 numeric */       </if>
            ORDER BY qust_ver
                   , qust_no
            <if test=' paging == "Y" '>
                LIMIT ${rowCount} OFFSET ${currentIndex}
            </if>
    </select>

    <!--비만예측_설문_상세_리스트 조회-->
    <select id="searchFatpQustSpecList" parameterType="java.util.Map" resultType="MybatisMap">
        SELECT   qust_ver          /* qust_ver    설문_버전      numeric                */
               , qust_no           /* qust_no     질문_번호      numeric                */
               , ans_seq           /* ans_seq     답변_순번      numeric                */
               , ans_val           /* ans_val     답변_값        character varying(20)  */
               , ans_cntn          /* ans_cntn    답변_내용      character varying(100) */
               , reg_dt            /* reg_dt      등록_일자      character(8)           */
               , reg_tm            /* reg_tm      등록_시각      character(6)           */
               , reg_user_id       /* reg_user_id 등록_사용자_ID character varying(20)  */
               , upt_dt            /* upt_dt      수정_일자      character(8)           */
               , upt_tm            /* upt_tm      수정_시각      character(6)           */
               , upt_user_id       /* upt_user_id 수정_사용자_ID character varying(20)  */
        FROM     ti_fatp_qust_spec -- 비만예측_질문_상세
        WHERE    1 = 1
        AND      qust_ver = #{qustVer}::NUMERIC  /* qust_ver 설문_버전 numeric */
        AND      qust_no  = #{qustNo} ::NUMERIC  /* qust_no  질문_번호 numeric */
                 <if test=" ansSeq!= null and ansSeq != '' ">
        AND      ans_seq  = #{ansSeq} ::NUMERIC  /* ans_seq  답변_순번 numeric */
                 </if>
        ORDER BY qust_ver
               , qust_no
        <if test=' paging == "Y" '>
            LIMIT ${rowCount} OFFSET ${currentIndex}
        </if>
    </select>

</mapper>