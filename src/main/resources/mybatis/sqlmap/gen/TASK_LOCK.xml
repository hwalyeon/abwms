<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
	TASK_LOCK Mapper
	Generated by co.seculink
-->
<mapper namespace="TASK_LOCK">

	<select id="select" resultMap="SYS.defaultMap">
		/* Generated SQL SQL ID : TASK_LOCK.select */
		SELECT 
               LOCK_KEY /* LOCK_KEY char(36) */
             , REGION /* REGION varchar(100) */
             , CLIENT_ID /* CLIENT_ID char(36) */
             , CREATED_DATE /* CREATED_DATE datetime */
        FROM   TASK_LOCK
		WHERE
		       LOCK_KEY = #{lockKey} /* LOCK_KEY char(36) */
		AND    REGION = #{region} /* REGION varchar(100) */
	</select>

	<insert id="insert" >
		/* Generated SQL SQL ID : TASK_LOCK.insert */
		INSERT INTO TASK_LOCK (
		  LOCK_KEY /* LOCK_KEY char(36) */
		, REGION /* REGION varchar(100) */
		<if test="clientId != null">
		, CLIENT_ID /* CLIENT_ID char(36) */
		</if>
		, CREATED_DATE /* CREATED_DATE datetime */
		) VALUES (
		  #{lockKey} /* LOCK_KEY char(36) */
		, #{region} /* REGION varchar(100) */
		<if test="clientId != null">
		, #{clientId} /* CLIENT_ID char(36) */
		</if>
		, #{createdDate} /* CREATED_DATE datetime */
		)
	</insert>
	
	<update id="update" >
		/* Generated SQL SQL ID : TASK_LOCK.update */
		UPDATE TASK_LOCK
		<trim prefix="SET" prefixOverrides=",">
		<if test="clientId != null">
		, CLIENT_ID = #{clientId} /* CLIENT_ID char(36) */
		</if>
		<if test="createdDate != null">
		, CREATED_DATE = #{createdDate} /* CREATED_DATE datetime */
		</if>
		</trim>
		WHERE
		LOCK_KEY = #{lockKey} /* LOCK_KEY char(36) */
		AND    REGION = #{region} /* REGION varchar(100) */
	</update>
	
	<update id="merge" >
		/* Generated SQL SQL ID : TASK_LOCK.merge */
		INSERT INTO TASK_LOCK (
		  LOCK_KEY /* LOCK_KEY char(36) */
		, REGION /* REGION varchar(100) */
		<if test="clientId != null">
		, CLIENT_ID /* CLIENT_ID char(36) */
		</if>
		, CREATED_DATE /* CREATED_DATE datetime */
		) VALUES (
		  #{lockKey} /* LOCK_KEY char(36) */
		, #{region} /* REGION varchar(100) */
		<if test="clientId != null">
		, #{clientId} /* CLIENT_ID char(36) */
		</if>
		, #{createdDate} /* CREATED_DATE datetime */
		)
		ON
			DUPLICATE KEY
		UPDATE
		<trim prefix="" prefixOverrides=",">
		<if test="clientId != null">
		, CLIENT_ID = #{clientId} /* CLIENT_ID char(36) */
		</if>
		<if test="createdDate != null">
		, CREATED_DATE = #{createdDate} /* CREATED_DATE datetime */
		</if>
		</trim>
	</update>
	
	<delete id="delete" >
		/* Generated SQL SQL ID : TASK_LOCK.delete */
		DELETE FROM TASK_LOCK
		WHERE
		LOCK_KEY = #{lockKey} /* LOCK_KEY char(36) */
		AND    REGION = #{region} /* REGION varchar(100) */
	</delete>
</mapper>